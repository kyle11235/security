# key

- pem

        to be simple. pem is just a format that encodes data in base64 to avoid encoding issue.
        its file can be ".pem" suffix, a ".cer" or ".crt" suffix (for certificates), or a ".key" suffix (for public or private keys).
        but what really determinates its type is the one-line header in it
        e.g. -----BEGIN CERTIFICATE-----
        e.g. -----BEGIN CERTIFICATE REQUEST-----

- who uses who

        1. ocic uses openssh key, generated by puttygen/ssh-keygen (begin with ssh-rsa ...)
        2. oci uses openssh key, generated by puttygen/ssh-keygen (begin with ssh-rsa  ...)
        3. oci api uses openssl key, generated by openssl (begin with -----BEGIN PUBLIC KEY----- ...)
        4. public key has same format, openssh/openssl's private key usually is .pem file, .ppk is window's putty's format

- openssh vs openssl

        where OpenSSL is designed to provide a method for securing web based communication;
        OpenSSH on the other hand provides secure and encrypted tunneling capabilities.
        It is typically used to enable secure shell connections from your machine to external servers.

        OpenSSH does actually utilise OpenSSL for its cryptographic operations, such as key pair generation.

- openssh

        - generate
        ssh-keygen OR ssh-keygen -t rsa -b 2048 -C "xx@xx.com"
        provide file name e.g.(if enter directly files id_rsa and id_rsa.pub are saved in ~/.ssh/, if you enter './id_rsa' it will save file to current path )

        if id_rsa is from other place, chmod 400 ~/ssh/id_rsa

        - add openssh public key by overwriting
        ~/.ssh/authorized_keys
        cat ssh.pub | ssh user@x.x.x.x "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

        - add openssh public key by appending
        cat ssh.pub >> ~/.ssh/authorized_keys
        or
        echo xxx >>  ~/.ssh/authorized_keys

        - connect by ssh (change permission first, or it will report error - key is too open)

                - use private key that is in default path
                ~/.ssh/id_rsa, you can directly ssh username@host

                - use private key that is in a configured default path
                e.g. ~/.ssh/my_id_rsa
                # ~/.ssh/config
                Host your.hostname.com
                    Hostname github.com
                    User git
                    IdentityFile ~/.ssh/my_id_rsa

                - use private key with specific path
                chmod 400 ./id_rsa (or some .pem file)
                ssh -i ./id_rsa opc@x.x.x.x

- openssl

        - generate openssl key (generate the private key first and then extract the public key from it)
        openssl genrsa -out ssl.pem 2048
        openssl rsa -pubout -in ssl.pem -out ssl.pub

- connect from mac termius

        it can uses ppk(window's putty's format) or private key begin with -----BEGIN RSA PRIVATE KEY-----...

- convert pem to ppk (generate key on mac but connect with putty from windows)

        - winodws, should be puttygen, not tried
        - mac
            brew install putty (install puttygen on mac)
            puttygen --help
            puttygen keyname -o keyname.ppk (convert openssh/ssl private key to ppk)

- convert ppk to pem

        - windows, use puttygen ui
        - mac

            brew install putty (install puttygen on mac)
            puttygen key.ppk -O private-openssh -o key.pem

- gpg

        gpg --gen-key
        gpg --gen-revoke my.email@domain.com
        ...
